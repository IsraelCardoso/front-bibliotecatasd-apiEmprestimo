{% extends "base.html" %}


{% block page_title %}Empréstimo{% endblock page_title %}Emprestimo

 {% block content %}
 
 <h1>Lista de Empréstimos</h1>
 

 {% if emprestimo %}
 <table class="table">
     <thead>
     <tr>
         <th scope="col">Nº</th>
         <th scope="col">Título</th>
         <th scope="col">CPF</th>
         <th scope="col">Livro</th>
         <th scope="col">Criado em</th>
         <th scope="col">Devolução</th>
         <th scope="col">Entregue em</th>
         <th scope="col">Ações</th>
         
     </tr>
     </thead>
     <tbody>
         {% for nEmprestimo in emprestimo %}
                 <tr>
                     <th scope="row">{{nEmprestimo.pk}}</th>
                     <td>{{ nEmprestimo.titulo }}</td>
                     <td>{{ nEmprestimo.idCliente }}</td>
                     <td>{{ nEmprestimo.idLivro }}</td>
                     <td>{{ nEmprestimo.dataEmprestimo }}</td>
                     <td>{{ nEmprestimo.dataDevolucao }}</td>
                     <td>{{ nEmprestimo.entregueEm|default:"-" }}</td>
                     <td>
                         <a href="{% url 'concluir_emprestimo_id' pk=nEmprestimo.pk %}" 
                         class="btn btn-primary btn-sm {% if nEmprestimo.entregueEm %}disabled{% endif %}">Concluir
                        </a>
                         <a href="{% url 'editar_emprestimo_id' pk=nEmprestimo.pk %}" 
                         class="btn btn-secondary btn-sm {% if nEmprestimo.entregueEm %}disabled{% endif %}">Editar
                        </a>
                         <a href="{% url 'excluir_emprestimo_id' pk=nEmprestimo.pk %}" 
                         class="btn btn-danger btn-sm">Excluir
                        </a>
                        
                     </td>
                 </tr>
         {% endfor %}
     
     </tbody>
 </table>
{% else %}
 <p>Não há tarefas cadastradas</p>
{% endif %}

<a href="{% url 'novo_emprestimo' %}" class="btn btn-secondary">Novo empréstimo</a>
 
 {% endblock  %}
    